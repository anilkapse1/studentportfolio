{"ast":null,"code":"import _slicedToArray from\"D:/git/react/rsst/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"D:/git/react/rsst/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useEffect,useState}from\"react\";import Container from\"react-bootstrap/Container\";import styled from\"styled-components\";import Item from\"./Item\";import leftbg from\"../assets/images/left-bg.png\";import rightbg from\"../assets/images/right-bg.png\";import{useDispatch,useSelector}from\"react-redux\";import{getStudent}from\"../redux/actions/studentActions\";import emptyImage from\"../assets/images/empty.png\";import{useRef}from\"react\";import{PageIndex}from\"../Context\";import{useContext}from\"react\";import Postpagination from\"./Postpagination\";import Typography from'@mui/material/Typography';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchStudent=function SearchStudent(){//styled start\nvar Searchwrapper=styled.section(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    position: relative;\\n    background-color: white;\\n    background-image: url(\",\");\\n    background-size: contain;\\n    background-repeat: no-repeat;\\n    background-position: left;\\n    display: flex;\\n\\n    .search_section {\\n      .search_area {\\n        text-align: center;\\n        input {\\n          height: 2rem;\\n          color: \",\";\\n          border: none;\\n          border-bottom: 1px solid \",\";\\n          width: 40%;\\n          margin-bottom: 20px;\\n          padding-bottom: 10px;\\n          &:focus {\\n            outline: none;\\n          }\\n        }\\n      }\\n      .label{\\n                    margin-bottom:15px;\\n                    h3{\\n                    color:\",\";\\n                    font-family:inherit;\\n                    }\\n                    span{\\n                        color:\",\";\\n                        position: relative;\\n                        font-size:14px;\\n\\n                    }\\n                }\\n    }\\n  \"])),leftbg,function(_ref){var theme=_ref.theme;return theme.colors.text7;},function(_ref2){var theme=_ref2.theme;return theme.colors.text7;},function(_ref3){var theme=_ref3.theme;return theme.colors.headeractive;},function(_ref4){var theme=_ref4.theme;return theme.colors.text7;});//styled end\n//fetch student details\nvar dispatch=useDispatch();useEffect(function(){dispatch(getStudent());},[]);//context page number\nvar _useContext=useContext(PageIndex),page=_useContext.page,setPage=_useContext.setPage;var inputVal=useRef(\"\");//get student list from store\nvar studentList=useSelector(function(state){return state.student;});//------\n//------calling search student query\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),list=_useState2[0],setList=_useState2[1];var findStudent=function findStudent(e){var value=e.target.value;setList(value);setPage(1);};var searchResult=studentList.filter(function(val,index){return list!==\"\"?val.name.includes(list)||val.area.includes(list)||val.surname.includes(list)||val.gender.includes(list):val;});//------\n//------pagination code start\nvar _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState(6),_useState6=_slicedToArray(_useState5,2),postsPerPage=_useState6[0],setPostsPerPage=_useState6[1];var indexOfLastPost=currentPage*postsPerPage;var indexOfFirstPost=indexOfLastPost-postsPerPage;var currentPosts=searchResult.slice(indexOfFirstPost,indexOfLastPost);useEffect(function(){inputVal.current.focus();setCurrentPage(page);},[page,searchResult]);// pagination code end\n//------\n//------display search data using condition\nvar displayData;if(searchResult.length==0){displayData=/*#__PURE__*/_jsx(\"img\",{src:emptyImage,alt:\"empty list\",className:\"emptyImage\"});}else{displayData=currentPosts.map(function(val,idx){return/*#__PURE__*/_jsx(Item,{id:idx,data:val},idx);});}useEffect(function(){inputVal.current.focus();},[list]);return/*#__PURE__*/_jsx(Searchwrapper,{children:/*#__PURE__*/_jsxs(Container,{className:\"search_section common_margin\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"label\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",className:\"mt-3\",children:\"Let's check\"}),/*#__PURE__*/_jsx(\"span\",{children:\"search student by Area or name\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"search_area\",children:/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Search student by name or area...\",ref:inputVal,value:list,onChange:findStudent})}),/*#__PURE__*/_jsx(\"div\",{className:\"item_container\",children:displayData}),/*#__PURE__*/_jsx(\"div\",{className:\"pagination_container\",children:/*#__PURE__*/_jsx(Postpagination,{postsPerPage:postsPerPage,totalPost:searchResult.length})})]})});};export default SearchStudent;","map":{"version":3,"names":["React","useEffect","useState","Container","styled","Item","leftbg","rightbg","useDispatch","useSelector","getStudent","emptyImage","useRef","PageIndex","useContext","Postpagination","Typography","SearchStudent","Searchwrapper","section","theme","colors","text7","headeractive","dispatch","page","setPage","inputVal","studentList","state","student","list","setList","findStudent","e","value","target","searchResult","filter","val","index","name","includes","area","surname","gender","currentPage","setCurrentPage","postsPerPage","setPostsPerPage","indexOfLastPost","indexOfFirstPost","currentPosts","slice","current","focus","displayData","length","map","idx"],"sources":["D:/git/react/rsst/src/components/SearchStudent.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport styled from \"styled-components\";\r\nimport Item from \"./Item\";\r\nimport leftbg from \"../assets/images/left-bg.png\";\r\nimport rightbg from \"../assets/images/right-bg.png\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getStudent } from \"../redux/actions/studentActions\";\r\nimport emptyImage from \"../assets/images/empty.png\";\r\nimport { useRef } from \"react\";\r\nimport { PageIndex } from \"../Context\";\r\nimport { useContext } from \"react\";\r\nimport Postpagination from \"./Postpagination\";\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst SearchStudent = () => {\r\n  //styled start\r\n  const Searchwrapper = styled.section`\r\n    position: relative;\r\n    background-color: white;\r\n    background-image: url(${leftbg});\r\n    background-size: contain;\r\n    background-repeat: no-repeat;\r\n    background-position: left;\r\n    display: flex;\r\n\r\n    .search_section {\r\n      .search_area {\r\n        text-align: center;\r\n        input {\r\n          height: 2rem;\r\n          color: ${({ theme }) => theme.colors.text7};\r\n          border: none;\r\n          border-bottom: 1px solid ${({ theme }) => theme.colors.text7};\r\n          width: 40%;\r\n          margin-bottom: 20px;\r\n          padding-bottom: 10px;\r\n          &:focus {\r\n            outline: none;\r\n          }\r\n        }\r\n      }\r\n      .label{\r\n                    margin-bottom:15px;\r\n                    h3{\r\n                    color:${({theme})=>theme.colors.headeractive};\r\n                    font-family:inherit;\r\n                    }\r\n                    span{\r\n                        color:${({theme})=>theme.colors.text7};\r\n                        position: relative;\r\n                        font-size:14px;\r\n\r\n                    }\r\n                }\r\n    }\r\n  `;\r\n  //styled end\r\n\r\n  //fetch student details\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getStudent());\r\n  }, []);\r\n\r\n  //context page number\r\n  const { page,setPage } = useContext(PageIndex);\r\n  const inputVal = useRef(\"\");\r\n\r\n\r\n\r\n  //get student list from store\r\n  const studentList = useSelector((state) => {\r\n    return state.student;\r\n  });\r\n\r\n  //------\r\n  //------calling search student query\r\n  const [list, setList] = useState(\"\");\r\n\r\n  const findStudent = (e) => {\r\n    const { value } = e.target;\r\n    setList(value);\r\n    setPage(1);\r\n  };\r\n\r\n  const searchResult = studentList.filter((val, index) => {\r\n    return list !== \"\"\r\n      ? val.name.includes(list) || val.area.includes(list) || val.surname.includes(list) || val.gender.includes(list)\r\n      : val;\r\n  });\r\n\r\n  //------\r\n  //------pagination code start\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [postsPerPage, setPostsPerPage] = useState(6);\r\n\r\n  const indexOfLastPost = currentPage * postsPerPage;\r\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\r\n  const currentPosts = searchResult.slice(indexOfFirstPost, indexOfLastPost);\r\n\r\n  useEffect(() => {\r\n    inputVal.current.focus();\r\n    setCurrentPage(page);\r\n  }, [page,searchResult]);\r\n  // pagination code end\r\n\r\n  //------\r\n  //------display search data using condition\r\n  let displayData;\r\n  if (searchResult.length == 0) {\r\n    displayData = (\r\n      <img src={emptyImage} alt=\"empty list\" className=\"emptyImage\" />\r\n    );\r\n  } else {\r\n    displayData = currentPosts.map((val, idx) => {\r\n      return <Item key={idx} id={idx} data={val} />;\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    inputVal.current.focus();\r\n  }, [list]);\r\n\r\n\r\n\r\n  return (\r\n    <Searchwrapper>\r\n      <Container className=\"search_section common_margin\">\r\n      <div className='label'>\r\n                    <Typography variant=\"h3\" className='mt-3'>Let's check</Typography>\r\n                    <span>search student by Area or name</span>\r\n                </div>\r\n        <div className=\"search_area\">\r\n          <input\r\n            type=\"search\"\r\n            placeholder=\"Search student by name or area...\"\r\n            ref={inputVal}\r\n            value={list}\r\n            onChange={findStudent}\r\n          />\r\n        </div>\r\n        <div className=\"item_container\">{displayData}</div>\r\n        <div className=\"pagination_container\">\r\n          {\r\n            <Postpagination\r\n              postsPerPage={postsPerPage}\r\n              totalPost={searchResult.length}\r\n            />\r\n          }\r\n        </div>\r\n      </Container>\r\n    </Searchwrapper>\r\n  );\r\n};\r\n\r\nexport default SearchStudent;\r\n"],"mappings":"kPAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,UAAS,KAAM,2BAA2B,CACjD,MAAOC,OAAM,KAAM,mBAAmB,CACtC,MAAOC,KAAI,KAAM,QAAQ,CACzB,MAAOC,OAAM,KAAM,8BAA8B,CACjD,MAAOC,QAAO,KAAM,+BAA+B,CACnD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,UAAU,KAAQ,iCAAiC,CAC5D,MAAOC,WAAU,KAAM,4BAA4B,CACnD,OAASC,MAAM,KAAQ,OAAO,CAC9B,OAASC,SAAS,KAAQ,YAAY,CACtC,OAASC,UAAU,KAAQ,OAAO,CAClC,MAAOC,eAAc,KAAM,kBAAkB,CAC7C,MAAOC,WAAU,KAAM,0BAA0B,CAAC,wFAElD,GAAMC,cAAa,CAAG,QAAhBA,cAAa,EAAS,CAC1B;AACA,GAAMC,cAAa,CAAGd,MAAM,CAACe,OAAO,sgCAGVb,MAAM,CAWf,kBAAGc,MAAK,MAALA,KAAK,OAAOA,MAAK,CAACC,MAAM,CAACC,KAAK,GAEf,mBAAGF,MAAK,OAALA,KAAK,OAAOA,MAAK,CAACC,MAAM,CAACC,KAAK,GAY1C,mBAAEF,MAAK,OAALA,KAAK,OAAIA,MAAK,CAACC,MAAM,CAACE,YAAY,GAIhC,mBAAEH,MAAK,OAALA,KAAK,OAAIA,MAAK,CAACC,MAAM,CAACC,KAAK,GAO1D,CACD;AAEA;AACA,GAAME,SAAQ,CAAGhB,WAAW,EAAE,CAC9BP,SAAS,CAAC,UAAM,CACduB,QAAQ,CAACd,UAAU,EAAE,CAAC,CACxB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,gBAAyBI,UAAU,CAACD,SAAS,CAAC,CAAtCY,IAAI,aAAJA,IAAI,CAACC,OAAO,aAAPA,OAAO,CACpB,GAAMC,SAAQ,CAAGf,MAAM,CAAC,EAAE,CAAC,CAI3B;AACA,GAAMgB,YAAW,CAAGnB,WAAW,CAAC,SAACoB,KAAK,CAAK,CACzC,MAAOA,MAAK,CAACC,OAAO,CACtB,CAAC,CAAC,CAEF;AACA;AACA,cAAwB5B,QAAQ,CAAC,EAAE,CAAC,wCAA7B6B,IAAI,eAAEC,OAAO,eAEpB,GAAMC,YAAW,CAAG,QAAdA,YAAW,CAAIC,CAAC,CAAK,CACzB,GAAQC,MAAK,CAAKD,CAAC,CAACE,MAAM,CAAlBD,KAAK,CACbH,OAAO,CAACG,KAAK,CAAC,CACdT,OAAO,CAAC,CAAC,CAAC,CACZ,CAAC,CAED,GAAMW,aAAY,CAAGT,WAAW,CAACU,MAAM,CAAC,SAACC,GAAG,CAAEC,KAAK,CAAK,CACtD,MAAOT,KAAI,GAAK,EAAE,CACdQ,GAAG,CAACE,IAAI,CAACC,QAAQ,CAACX,IAAI,CAAC,EAAIQ,GAAG,CAACI,IAAI,CAACD,QAAQ,CAACX,IAAI,CAAC,EAAIQ,GAAG,CAACK,OAAO,CAACF,QAAQ,CAACX,IAAI,CAAC,EAAIQ,GAAG,CAACM,MAAM,CAACH,QAAQ,CAACX,IAAI,CAAC,CAC7GQ,GAAG,CACT,CAAC,CAAC,CAEF;AACA;AACA,eAAsCrC,QAAQ,CAAC,CAAC,CAAC,yCAA1C4C,WAAW,eAAEC,cAAc,eAClC,eAAwC7C,QAAQ,CAAC,CAAC,CAAC,yCAA5C8C,YAAY,eAAEC,eAAe,eAEpC,GAAMC,gBAAe,CAAGJ,WAAW,CAAGE,YAAY,CAClD,GAAMG,iBAAgB,CAAGD,eAAe,CAAGF,YAAY,CACvD,GAAMI,aAAY,CAAGf,YAAY,CAACgB,KAAK,CAACF,gBAAgB,CAAED,eAAe,CAAC,CAE1EjD,SAAS,CAAC,UAAM,CACd0B,QAAQ,CAAC2B,OAAO,CAACC,KAAK,EAAE,CACxBR,cAAc,CAACtB,IAAI,CAAC,CACtB,CAAC,CAAE,CAACA,IAAI,CAACY,YAAY,CAAC,CAAC,CACvB;AAEA;AACA;AACA,GAAImB,YAAW,CACf,GAAInB,YAAY,CAACoB,MAAM,EAAI,CAAC,CAAE,CAC5BD,WAAW,cACT,YAAK,GAAG,CAAE7C,UAAW,CAAC,GAAG,CAAC,YAAY,CAAC,SAAS,CAAC,YAAY,EAC9D,CACH,CAAC,IAAM,CACL6C,WAAW,CAAGJ,YAAY,CAACM,GAAG,CAAC,SAACnB,GAAG,CAAEoB,GAAG,CAAK,CAC3C,mBAAO,KAAC,IAAI,EAAW,EAAE,CAAEA,GAAI,CAAC,IAAI,CAAEpB,GAAI,EAAxBoB,GAAG,CAAwB,CAC/C,CAAC,CAAC,CACJ,CAEA1D,SAAS,CAAC,UAAM,CACd0B,QAAQ,CAAC2B,OAAO,CAACC,KAAK,EAAE,CAC1B,CAAC,CAAE,CAACxB,IAAI,CAAC,CAAC,CAIV,mBACE,KAAC,aAAa,wBACZ,MAAC,SAAS,EAAC,SAAS,CAAC,8BAA8B,wBACnD,aAAK,SAAS,CAAC,OAAO,wBACR,KAAC,UAAU,EAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,yBAAyB,cAClE,wDAA2C,GACzC,cACd,YAAK,SAAS,CAAC,aAAa,uBAC1B,cACE,IAAI,CAAC,QAAQ,CACb,WAAW,CAAC,mCAAmC,CAC/C,GAAG,CAAEJ,QAAS,CACd,KAAK,CAAEI,IAAK,CACZ,QAAQ,CAAEE,WAAY,EACtB,EACE,cACN,YAAK,SAAS,CAAC,gBAAgB,UAAEuB,WAAW,EAAO,cACnD,YAAK,SAAS,CAAC,sBAAsB,uBAEjC,KAAC,cAAc,EACb,YAAY,CAAER,YAAa,CAC3B,SAAS,CAAEX,YAAY,CAACoB,MAAO,EAC/B,EAEA,GACI,EACE,CAEpB,CAAC,CAED,cAAexC,cAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}